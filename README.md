# 📋 List View 扩展

一个Chrome扩展，用于快速查看和管理您的书签、浏览历史和打开的标签页。

## 功能特性

- 📋 **列表视图**: 以列表形式查看书签、历史和标签页
- 🔍 **快速搜索**: 同时搜索书签和浏览历史记录
- 📱 **两种界面**: 支持popup界面和页面内模态框
- ⚡ **实时搜索**: 输入时自动搜索，支持防抖
- 🎨 **美观界面**: 现代化的UI设计
- 📊 **智能排序**: 按时间排序显示最相关的结果
- 📈 **访问统计**: 显示过去7天的访问统计，按域名分组
- 🔒 **隐私保护**: 所有数据本地处理，不上传到服务器
- 🪟 **窗口管理**: 支持窗口合并和自定义窗口名称

## 安装方法

### 开发者模式安装

1. 下载或克隆此项目到本地
2. 打开Chrome浏览器，进入 `chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目文件夹
6. 扩展安装完成

### 使用方法

#### 方法一：使用Popup界面

1. 点击浏览器工具栏中的扩展图标
2. 在弹出窗口中输入搜索关键词
3. 点击搜索结果即可访问

#### 方法二：使用模态框界面

1. 在任何网页上点击扩展图标
2. 页面会显示搜索模态框
3. 默认显示过去7天的访问统计
4. 输入关键词进行搜索

### 新功能：访问统计

扩展现在会在模态框初始化时自动显示过去7天的访问统计：

- 📊 **域名分组**: 按访问域名自动分组
- 🏆 **热门路径**: 显示每个域名下访问最多的前3个路径
- 📈 **访问次数**: 显示每个路径的访问次数
- 🎯 **快速访问**: 点击统计项可直接访问对应页面
- 🔄 **实时更新**: 每次打开模态框都会更新统计数据

## 权限说明

此扩展需要以下权限：

- `bookmarks`: 访问书签数据
- `history`: 访问浏览历史记录
- `activeTab`: 在当前标签页显示模态框

## 项目结构

```text
quick_browser/
├── manifest.json          # 扩展配置文件
├── background.js          # 后台脚本
├── modal.js              # 模态框脚本（包含样式和功能）
├── scripts/
│   └── content.js        # 内容脚本
├── images/               # 图标文件
│   ├── icon-16.png
│   ├── icon-32.png
│   ├── icon-48.png
│   └── icon-128.png
├── README.md             # 项目说明
└── LICENSE               # 许可证
```

## 开发说明

### 主要修复内容

1. **修复manifest.json配置**:
   - 添加了popup配置
   - 移除了不必要的content script
   - 添加了web_accessible_resources

2. **优化content script**:
   - 实现动态加载modal.js
   - 避免不必要的脚本加载

3. **修复权限管理**:
   - 将权限检查移至background script
   - 优化错误处理

4. **改进样式加载**:
   - 支持外部CSS文件加载
   - 提供内联样式作为备选

### 测试方法

1. 打开 `test.html` 文件
2. 按照页面说明进行功能测试
3. 检查控制台是否有错误信息

## 故障排除

### 常见问题

1. **扩展无法加载**
   - 检查manifest.json语法是否正确
   - 确保所有文件路径正确

2. **搜索功能不工作**
   - 检查是否授予了必要权限
   - 查看控制台错误信息

3. **模态框不显示**
   - 确保content script正确加载
   - 检查web_accessible_resources配置

### 调试方法

1. 打开Chrome开发者工具
2. 查看Console标签页的错误信息
3. 检查Extensions页面中的错误日志

## 更新日志

### v1.1.0

- ✨ **新增访问统计功能**: 显示过去7天的访问统计
- 📊 **域名分组统计**: 按域名自动分组，显示访问最多的路径
- 🎨 **美观的统计界面**: 现代化的统计展示设计
- 🚀 **性能优化**: 优化历史记录处理逻辑
- 🔧 **代码重构**: 改进代码结构和错误处理

### v1.0.0

- 初始版本发布
- 支持书签和历史记录搜索
- 提供popup和模态框两种界面
- 实现实时搜索和智能排序

## 许可证

MIT License - 详见 LICENSE 文件

## 图标设计

项目提供了简洁的图标设计，体现"列表视图"的主题：

- 使用简洁的"so"文字设计
- 支持 `16/32/48/128` 四种 PNG 图标尺寸
- 覆盖 `manifest.json` 中的声明尺寸
